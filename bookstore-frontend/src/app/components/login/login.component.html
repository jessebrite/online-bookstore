<div class="container-fluid">
  <div class="row">
    <div class="col bg-dark text-white">
      <a class="navbar-brand">Login</a>
      <span
        ><small>New user? Register <a routerLink="/register">here</a></small></span
      >
    </div>
  </div>
</div>

<br />

<div
  *ngIf="formError"
  class="alert alert-warning alert-dismissible fade show text-center"
  role="alert"
>
  <!-- <strong>Warning!</strong> -->
  {{formError}}
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<ng-template #elseTemplate>
  <div class="alert alert-success alert-dismissible fade show text-center" role="alert">
    Success
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
</ng-template>
<form
  *ngIf="!userSent; else elseTemplate"
  #form="ngForm"
  novalidate
  (ngSubmit)="onSubmit(form)"
  [appMustMatch]="['password', 'confirmPassword']"
  class="m-2"
>
  <div class="form-group">
    <label>Email</label>
    <input
      class="form-control"
      #email="ngModel"
      name="email"
      [(ngModel)]="user.email"
      [ngClass]="{ 'is-invalid': submitted && email.invalid }"
      required
      email
    />
    <div *ngIf="submitted && email.invalid" class="text-danger text-center">
      <span *ngIf="email.errors?.required">Please enter your email</span>
      <span *ngIf="email.errors?.email"
        >Please provide a valid email address</span
      >
    </div>
  </div>

  <div class="form-group">
    <label>Password</label>
    <input
      class="form-control"
      #password="ngModel"
      name="password"
      type="password"
      [(ngModel)]="user.password"
      [ngClass]="{ 'is-invalid': submitted && password.invalid }"
      required
    />
    <div *ngIf="submitted && password.invalid" class="text-danger">
      <span *ngIf="password.errors?.required">Please enter your password</span>
    </div>
  </div>

  <div class="text-center">
    <button class="btn btn-secondary m-1" type="submit">Login</button>
  </div>
</form>
